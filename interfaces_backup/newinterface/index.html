<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHNeoWave - Système d'Analyse Maritime Professionnel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Fenêtre d'accueil professionnelle -->
        <div class="welcome-modal" id="welcome-modal">
            <div class="welcome-content">
                <div class="welcome-header">
                    <div class="logo-icon">CHN</div>
                    <div class="welcome-title">Bienvenue sur CHNeoWave</div>
                    <div class="welcome-subtitle">Système professionnel d’acquisition et d’analyse maritime</div>
                </div>
                <div class="welcome-actions">
                    <button class="primary-action" id="btn-new-project">Nouveau Projet</button>
                    <button class="action-button secondary" id="btn-import-project">Importer un Projet</button>
                </div>
            </div>
        </div>
        <!-- Formulaire Projet Professionnel (masqué par défaut) -->
        <div class="project-form-modal" id="project-form-modal" style="display:none;">
            <div class="project-form-content">
                <div class="form-header">
                    <div class="form-title">Nouveau Projet</div>
                    <div class="form-subtitle">Veuillez renseigner les informations du projet</div>
                </div>
                <form id="project-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="project-name">Nom du Projet</label>
                            <input type="text" id="project-name" name="project-name" required placeholder="Ex: Test_Bassin_Houle_2024">
                        </div>
                        <div class="form-group">
                            <label for="project-code">Code Projet</label>
                            <input type="text" id="project-code" name="project-code" required placeholder="Ex: TBH2024-001">
                        </div>
                        <div class="form-group">
                            <label for="project-leader">Chef de Projet</label>
                            <input type="text" id="project-leader" name="project-leader" required placeholder="Nom du responsable">
                        </div>
                        <div class="form-group">
                            <label for="project-engineer">Ingénieur d’Instrumentation</label>
                            <input type="text" id="project-engineer" name="project-engineer" required placeholder="Nom de l’ingénieur">
                        </div>
                        <div class="form-group">
                            <label for="project-technician">Technicien</label>
                            <input type="text" id="project-technician" name="project-technician" required placeholder="Nom du technicien">
                        </div>
                        <div class="form-group">
                            <label for="project-date">Date du Projet</label>
                            <input type="date" id="project-date" name="project-date" required>
                        </div>
                        <div class="form-group">
                            <label for="project-type">Type d’Essai</label>
                            <select id="project-type" name="project-type" required>
                                <option value="">Sélectionner...</option>
                                <option value="bassin">Bassin à Houle</option>
                                <option value="canal">Canal à Houle</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="action-button secondary" id="cancel-project-form">Annuler</button>
                        <button type="submit" class="action-button primary">Créer le Projet</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Dashboard Projet (masqué par défaut) -->
        <div class="dashboard-modal" id="dashboard-modal" style="display:none;">
            <div class="dashboard-content">
                <div class="dashboard-header">
                    <div class="dashboard-title">Tableau de Bord du Projet</div>
                    <div class="dashboard-subtitle">Informations du projet et accès aux modules</div>
                </div>
                <div class="dashboard-project-info" id="dashboard-project-info">
                    <!-- Les infos projet seront injectées ici -->
                </div>
                <div class="dashboard-actions">
                    <button class="action-button primary" id="btn-go-calibration">Calibration</button>
                    <button class="action-button primary" id="btn-go-acquisition">Acquisition</button>
                    <button class="action-button primary" id="btn-go-processing">Traitement</button>
                </div>
            </div>
        </div>
        <!-- Module Calibration (masqué par défaut) -->
        <div class="calibration-modal" id="calibration-modal" style="display:none;">
            <div class="calibration-content">
                <div class="calibration-header">
                    <div class="calibration-title">Calibration des Sondes</div>
                    <div class="calibration-subtitle">Configurer et calibrer chaque sonde manuellement</div>
                </div>
                <div class="calibration-controls">
                    <div class="form-group">
                        <label for="calib-sensor-count">Nombre de sondes</label>
                        <select id="calib-sensor-count">
                            <!-- Options 1 à 16 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="calib-point-count">Points de calibration</label>
                        <select id="calib-point-count">
                            <!-- Options 3 à 20 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="calib-active-sensor">Sonde active</label>
                        <select id="calib-active-sensor">
                            <!-- Options dynamiques selon nombre de sondes -->
                        </select>
                    </div>
                </div>
                <div class="calibration-table-container">
                    <table class="calibration-table" id="calibration-table">
                        <thead>
                            <tr>
                                <th>Point</th>
                                <th>Hauteur (cm)</th>
                                <th>Tension (V)</th>
                                <th>État</th>
                            </tr>
                        </thead>
                        <tbody id="calibration-tbody">
                            <!-- Lignes dynamiques -->
                        </tbody>
                    </table>
                </div>
                <div class="calibration-chart-container">
                    <div class="chart-header">
                        <h3>Graphe de Linéarité</h3>
                        <div class="chart-stats">
                            <span>R²: <span id="r-squared">--</span></span>
                            <span>Pente: <span id="slope">--</span></span>
                            <span>Offset: <span id="offset">--</span></span>
                        </div>
                    </div>
                    <div class="chart-area" id="calibration-chart">
                        <canvas id="calibration-canvas" width="400" height="300">Graphique de calibration</canvas>
                    </div>
                </div>
                <div class="calibration-actions">
                    <button class="action-button secondary" id="btn-back-dashboard">Retour Dashboard</button>
                    <button class="action-button primary" id="btn-save-calibration">Sauvegarder Calibration</button>
                </div>
            </div>
        </div>
        <!-- Module Acquisition (masqué par défaut) -->
        <div class="acquisition-modal" id="acquisition-modal" style="display:none;">
            <div class="acquisition-content">
                <div class="acquisition-header">
                    <div class="acquisition-title">Acquisition Temps Réel</div>
                    <div class="acquisition-subtitle">Configurer et visualiser les données en temps réel</div>
                </div>
                <div class="acquisition-controls">
                    <div class="form-group">
                        <label for="acq-freq">Fréquence d’échantillonnage (Hz)</label>
                        <select id="acq-freq">
                            <option value="32">32</option>
                            <option value="64">64</option>
                            <option value="128">128</option>
                            <option value="256">256</option>
                            <option value="512">512</option>
                            <option value="1000">1000</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="acq-duration">Temps d’acquisition (s)</label>
                        <input type="number" id="acq-duration" min="1" max="3600" value="60">
                    </div>
                    <div class="form-group">
                        <label for="acq-sensor-a">Sonde A</label>
                        <select id="acq-sensor-a"></select>
                    </div>
                    <div class="form-group">
                        <label for="acq-sensor-b">Sonde B</label>
                        <select id="acq-sensor-b"></select>
                    </div>
                    <div class="form-group">
                        <label for="acq-multi-sensors">Multi-sondes</label>
                        <select id="acq-multi-sensors" multiple size="4"></select>
                    </div>
                </div>
                <div class="acquisition-charts">
                    <div class="chart-container">
                        <h3>Sonde A</h3>
                        <canvas id="acq-sensor-a-chart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Sonde B</h3>
                        <canvas id="acq-sensor-b-chart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Multi-Sondes</h3>
                        <canvas id="acq-multi-sensor-chart" width="400" height="200"></canvas>
                    </div>
                </div>
                <div class="acquisition-actions">
                    <button class="action-button secondary" id="btn-back-dashboard-acq">Retour Dashboard</button>
                    <button class="action-button primary" id="btn-start-acquisition">Démarrer</button>
                    <button class="action-button primary" id="btn-stop-acquisition" disabled>Arrêter</button>
                    <button class="action-button primary" id="btn-save-acquisition" disabled>Sauvegarder</button>
                </div>
            </div>
        </div>
        <!-- Module Traitement/Analyse (masqué par défaut) -->
        <div class="processing-modal" id="processing-modal" style="display:none;">
            <div class="processing-content">
                <div class="processing-header">
                    <div class="processing-title">Analyse et Traitement</div>
                    <div class="processing-subtitle">Appliquer les méthodes d’analyse scientifique</div>
                </div>
                <div class="processing-controls">
                    <div class="form-group">
                        <label for="proc-method">Méthode d’analyse</label>
                        <select id="proc-method">
                            <option value="fft">FFT</option>
                            <option value="jonswap">JONSWAP</option>
                            <option value="pierson">Pierson-Moskowitz</option>
                            <option value="goda">Goda-SVD</option>
                        </select>
                    </div>
                </div>
                <div class="processing-results">
                    <div class="result-group">
                        <div><strong>Hs :</strong> <span id="proc-hs">--</span> cm</div>
                        <div><strong>Hmax :</strong> <span id="proc-hmax">--</span> cm</div>
                        <div><strong>Hmin :</strong> <span id="proc-hmin">--</span> cm</div>
                        <div><strong>H1/3 :</strong> <span id="proc-h13">--</span> cm</div>
                        <div><strong>Tm :</strong> <span id="proc-tm">--</span> s</div>
                        <div><strong>Tp :</strong> <span id="proc-tp">--</span> s</div>
                    </div>
                </div>
                <div class="processing-chart-container">
                    <h3>Spectre de Puissance</h3>
                    <div class="chart-area">
                        <canvas id="proc-spectrum-chart" width="600" height="300"></canvas>
                    </div>
                </div>
                <div class="processing-actions">
                    <button class="action-button secondary" id="btn-back-dashboard-proc">Retour Dashboard</button>
                    <button class="action-button primary" id="btn-generate-report">Générer Rapport</button>
                </div>
            </div>
        </div>
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">CHN</div>
                    <div>
                        <div class="logo-text">CHNeoWave</div>
                        <div class="logo-subtitle">Maritime Analysis</div>
                    </div>
                </div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">Principal</div>
                    <a href="#dashboard" class="nav-item active" data-module="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Tableau de Bord</span>
                    </a>
                    <a href="#project" class="nav-item" data-module="project">
                        <i class="fas fa-project-diagram"></i>
                        <span>Gestion Projet</span>
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Workflow</div>
                    <a href="#calibration" class="nav-item" data-module="calibration">
                        <i class="fas fa-adjust"></i>
                        <span>Calibration</span>
                    </a>
                    <a href="#acquisition" class="nav-item" data-module="acquisition">
                        <i class="fas fa-wave-square"></i>
                        <span>Acquisition</span>
                    </a>
                    <a href="#analysis" class="nav-item" data-module="analysis">
                        <i class="fas fa-chart-line"></i>
                        <span>Analyse</span>
                    </a>
                    <a href="#export" class="nav-item" data-module="export">
                        <i class="fas fa-file-export"></i>
                        <span>Export</span>
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Système</div>
                    <a href="#system" class="nav-item" data-module="system">
                        <i class="fas fa-cog"></i>
                        <span>Configuration</span>
                    </a>
                    <a href="#about" class="nav-item" data-module="about">
                        <i class="fas fa-info-circle"></i>
                        <span>À propos</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="theme-toggle">
                    <i class="fas fa-moon"></i>
                    <span>Mode Sombre</span>
                </div>
                <div class="system-status">
                    <div class="status-indicator online"></div>
                    <span>Système Opérationnel</span>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="main-header">
                <div class="header-title">
                    <h1 id="page-title">Tableau de Bord Principal</h1>
                    <p id="page-subtitle">Système d'acquisition et d'analyse de houle maritime</p>
                </div>
                <div class="header-actions">
                    <div class="project-info" id="project-info">
                        <span class="project-name">Aucun projet actif</span>
                    </div>
                    <div class="status-badge">
                        <div class="status-dot"></div>
                        <span>Système Prêt</span>
                    </div>
                </div>
            </header>

            <div class="content-area" id="content-area">
                <!-- Dashboard Module -->
                <div class="module-content active" id="dashboard-module">
                    <div class="dashboard-grid">
                        <div class="card project-overview">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">Vue d'Ensemble du Projet</div>
                                    <div class="card-subtitle">État actuel de l'environnement d'acquisition</div>
                                </div>
                            </div>
                            
                            <div class="project-stats">
                                <div class="stat-item">
                                    <div class="stat-value" id="active-projects">0</div>
                                    <div class="stat-label">Projets Actifs</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="max-sensors">16</div>
                                    <div class="stat-label">Capteurs Max</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="max-freq">1kHz</div>
                                    <div class="stat-label">Fréq. Max</div>
                                </div>
                            </div>

                            <div class="wave-display">
                                <div class="wave-grid"></div>
                                <div class="wave-line"></div>
                                <div class="wave-line"></div>
                                <div class="wave-line"></div>
                                <div class="wave-line"></div>
                            </div>

                            <button class="primary-action" id="init-session">
                                <i class="fas fa-play"></i>
                                Initialiser Nouvelle Session
                            </button>
                        </div>

                        <div class="metrics-grid">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">Métriques Système</div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-icon">
                                        <i class="fas fa-memory"></i>
                                    </div>
                                    <div class="metric-value" id="buffer-usage">--</div>
                                    <div class="metric-label">Buffer %</div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="metric-card">
                                    <div class="metric-icon">
                                        <i class="fas fa-hdd"></i>
                                    </div>
                                    <div class="metric-value" id="disk-usage">--</div>
                                    <div class="metric-label">Disque %</div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="metric-card">
                                    <div class="metric-icon">
                                        <i class="fas fa-microchip"></i>
                                    </div>
                                    <div class="metric-value" id="cpu-usage">--</div>
                                    <div class="metric-label">CPU %</div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="metric-card">
                                    <div class="metric-icon">
                                        <i class="fas fa-broadcast-tower"></i>
                                    </div>
                                    <div class="metric-value" id="active-sensors">0</div>
                                    <div class="metric-label">Sondes Actives</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Project Management Module -->
                <div class="module-content" id="project-module">
                    <div class="project-container">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Gestion de Projet</div>
                                <div class="card-subtitle">Créer ou importer un projet existant</div>
                            </div>
                            
                            <div class="project-actions">
                                <button class="action-button primary" id="new-project-btn">
                                    <i class="fas fa-plus"></i>
                                    Nouveau Projet
                                </button>
                                <button class="action-button secondary" id="import-project-btn">
                                    <i class="fas fa-folder-open"></i>
                                    Importer Projet
                                </button>
                            </div>

                            <div class="project-form" id="project-form" style="display: none;">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Nom du Projet</label>
                                        <input type="text" id="project-name" placeholder="Ex: Test_Bassin_Houle_2024">
                                    </div>
                                    <div class="form-group">
                                        <label>Code Projet</label>
                                        <input type="text" id="project-code" placeholder="Ex: TBH2024-001">
                                    </div>
                                    <div class="form-group">
                                        <label>Chef de Projet</label>
                                        <input type="text" id="project-leader" placeholder="Nom du responsable">
                                    </div>
                                    <div class="form-group">
                                        <label>Ingénieur Responsable</label>
                                        <input type="text" id="project-engineer" placeholder="Nom de l'ingénieur">
                                    </div>
                                    <div class="form-group">
                                        <label>Lieu d'Essai</label>
                                        <select id="test-location">
                                            <option value="">Sélectionner...</option>
                                            <option value="bassin">Bassin à Houle</option>
                                            <option value="canal">Canal à Houle</option>
                                            <option value="mer">Mer Ouverte</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Date Prévue</label>
                                        <input type="date" id="test-date">
                                    </div>
                                    <div class="form-group">
                                        <label>Nombre de Sondes</label>
                                        <select id="sensor-count">
                                            <option value="1">1 Sonde</option>
                                            <option value="4">4 Sondes</option>
                                            <option value="8">8 Sondes</option>
                                            <option value="16">16 Sondes</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Fréquence d'Échantillonnage</label>
                                        <select id="sampling-freq">
                                            <option value="32">32 Hz</option>
                                            <option value="64">64 Hz</option>
                                            <option value="128">128 Hz</option>
                                            <option value="256">256 Hz</option>
                                            <option value="512">512 Hz</option>
                                            <option value="1000">1000 Hz</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-actions">
                                    <button class="action-button secondary" id="cancel-project">Annuler</button>
                                    <button class="action-button primary" id="save-project">Créer le Projet</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calibration Module -->
                <div class="module-content" id="calibration-module">
                    <div class="calibration-container">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Calibration des Sondes</div>
                                <div class="card-subtitle">Établir la relation linéaire tension/hauteur d'eau</div>
                            </div>
                            
                            <div class="calibration-controls">
                                <div class="sensor-selector">
                                    <label>Sonde Active:</label>
                                    <select id="active-sensor">
                                        <option value="1">Sonde 1</option>
                                        <option value="2">Sonde 2</option>
                                        <option value="3">Sonde 3</option>
                                        <option value="4">Sonde 4</option>
                                    </select>
                                </div>
                                
                                <div class="calibration-settings">
                                    <div class="setting-group">
                                        <label>Points de Calibration:</label>
                                        <select id="calibration-points">
                                            <option value="3">3 Points</option>
                                            <option value="5">5 Points</option>
                                            <option value="10">10 Points</option>
                                        </select>
                                    </div>
                                    
                                    <div class="setting-group">
                                        <label>Type de Mesure:</label>
                                        <select id="measurement-type">
                                            <option value="bidirectional">Bidirectionnelle</option>
                                            <option value="upward">Montée Seule</option>
                                            <option value="downward">Descente Seule</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="calibration-content">
                                <div class="calibration-table-container">
                                    <table class="calibration-table" id="calibration-table">
                                        <thead>
                                            <tr>
                                                <th>Point</th>
                                                <th>Hauteur (cm)</th>
                                                <th>Tension (V)</th>
                                                <th>Direction</th>
                                                <th>État</th>
                                            </tr>
                                        </thead>
                                        <tbody id="calibration-tbody">
                                            <!-- Rows will be generated dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="calibration-chart-container">
                                    <div class="chart-header">
                                        <h3>Graphique de Linéarité</h3>
                                        <div class="chart-stats">
                                            <span>R²: <span id="r-squared">--</span></span>
                                            <span>Pente: <span id="slope">--</span></span>
                                            <span>Offset: <span id="offset">--</span></span>
                                        </div>
                                    </div>
                                    <div class="chart-area" id="calibration-chart">
                                        <canvas id="calibration-canvas" width="400" height="300">Graphique de calibration</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other modules would continue here -->
                <div class="module-content" id="acquisition-module">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Module d'Acquisition</div>
                            <div class="card-subtitle">Configuration et contrôle de l'acquisition de données</div>
                        </div>
                        <div class="acquisition-charts">
                            <div class="chart-container">
                                <h3>Capteur A</h3>
                                <canvas id="sensor-a-chart" width="400" height="200"></canvas>
                            </div>
                            <div class="chart-container">
                                <h3>Capteur B</h3>
                                <canvas id="sensor-b-chart" width="400" height="200"></canvas>
                            </div>
                            <div class="chart-container">
                                <h3>Multi-Capteurs</h3>
                                <canvas id="multi-sensor-chart" width="400" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="module-content" id="analysis-module">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Module d'Analyse</div>
                            <div class="card-subtitle">Analyse spectrale et traitement des données</div>
                        </div>
                        <div class="analysis-content">
                            <div class="chart-container">
                                <h3>Analyse Spectrale</h3>
                                <canvas id="spectrum-chart" width="600" height="400"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="module-content" id="export-module">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Module d'Export</div>
                            <div class="card-subtitle">Export des données et génération de rapports</div>
                        </div>
                        <p>Module d'export en cours de développement...</p>
                    </div>
                </div>

                <div class="module-content" id="system-module">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Configuration Système</div>
                            <div class="card-subtitle">Paramètres et configuration du système</div>
                        </div>
                        <p>Module de configuration en cours de développement...</p>
                    </div>
                </div>

                <div class="module-content" id="about-module">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">À propos de CHNeoWave</div>
                            <div class="card-subtitle">Informations sur le système</div>
                        </div>
                        <p>CHNeoWave - Système d'analyse maritime professionnel</p>
                        <p>Version: 1.0.0</p>
                        <p>Développé pour les laboratoires d'étude maritime</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>